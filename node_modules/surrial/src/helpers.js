"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function isClassInstance(thing) {
    return typeof thing === 'object' && thing && thing.constructor && thing.constructor !== Object;
}
exports.isClassInstance = isClassInstance;
function isEcmaScriptClass(constructor) {
    return constructor.toString().startsWith('class');
}
function getParamList(constructor) {
    var splitParams = function (params) {
        return params.split(',').map(function (param) { return param.trim(); });
    };
    var constructorString = constructor.toString();
    if (isEcmaScriptClass(constructor)) {
        var parametersMatch = constructorString.match(/constructor[^(]*\(([^)]*)\)/);
        if (parametersMatch) {
            return splitParams(parametersMatch[1]);
        }
        else {
            // Constructor is optional in an es6 class
            return [];
        }
    }
    else {
        var parametersMatch = constructorString.match(/function[^(]*\(([^)]*)\)/);
        if (parametersMatch) {
            return splitParams(parametersMatch[1]);
        }
        else {
            throw new Error("Constructor function \"" + constructor.name + "\" could not be serialized. Class was defined as: " + constructor.toString());
        }
    }
}
exports.getParamList = getParamList;
//# sourceMappingURL=helpers.js.map